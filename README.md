# Xueqiu MCP

<div align="center">

**åŸºäºé›ªçƒ API çš„ MCP æœåŠ¡å™¨**

é€šè¿‡ Claude æˆ–å…¶ä»– AI åŠ©æ‰‹è½»æ¾è·å–ä¸­å›½è‚¡ç¥¨å¸‚åœºæ•°æ®

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python Version](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![MCP](https://img.shields.io/badge/MCP-Protocol-green.svg)](https://modelcontextprotocol.io/)

</div>

## ğŸ“– ç›®å½•

- [ç®€ä»‹](#-ç®€ä»‹)
- [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [å®‰è£…](#-å®‰è£…)
- [é…ç½®](#-é…ç½®)
- [ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—)
- [å¯ç”¨å·¥å…·](#-å¯ç”¨å·¥å…·)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#-è®¸å¯è¯)

## ğŸ’¡ ç®€ä»‹

Xueqiu MCP æ˜¯ä¸€ä¸ªåŸºäº [Model Context Protocol (MCP)](https://modelcontextprotocol.io/) çš„æœåŠ¡å™¨ï¼Œå°è£…äº† [pysnowball](https://github.com/uname-yang/pysnowball) åº“ï¼Œä¸º Claude ç­‰ AI åŠ©æ‰‹æä¾›è®¿é—®ä¸­å›½è‚¡ç¥¨å¸‚åœºæ•°æ®çš„èƒ½åŠ›ã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸš€ **å³æ’å³ç”¨**ï¼šé€šè¿‡ MCP åè®®å¿«é€Ÿé›†æˆåˆ° Claude Desktop
- ğŸ“Š **å…¨é¢æ•°æ®**ï¼šæ”¯æŒè‚¡ç¥¨è¡Œæƒ…ã€è´¢åŠ¡æŠ¥è¡¨ã€èµ„é‡‘æµå‘ã€åŸºé‡‘æ•°æ®ç­‰ 50+ æ•°æ®æ¥å£
- ğŸ”„ **è‡ªåŠ¨å¤„ç†**ï¼šæ™ºèƒ½è½¬æ¢æ—¶é—´æˆ³æ ¼å¼ï¼Œæä¾›å¯è¯»æ€§å¼ºçš„æ•°æ®è¾“å‡º
- ğŸ›¡ï¸ **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„å‚æ•°ç±»å‹å®šä¹‰å’Œé»˜è®¤å€¼

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### è‚¡ç¥¨æ•°æ®
- å®æ—¶è¡Œæƒ…å’Œè¯¦ç»†æŠ¥ä»·
- K çº¿æ•°æ®è·å–
- ä¸šç»©é¢„å‘Šå’Œæœºæ„è¯„çº§
- èµ„é‡‘æµå‘åˆ†æï¼ˆå½“æ—¥/å†å²ï¼‰
- å¤§å®—äº¤æ˜“å’Œèèµ„èåˆ¸æ•°æ®

### è´¢åŠ¡æŠ¥è¡¨
- åˆ©æ¶¦è¡¨
- èµ„äº§è´Ÿå€ºè¡¨
- ç°é‡‘æµé‡è¡¨
- ä¸»è¦è´¢åŠ¡æŒ‡æ ‡
- ä¸»è¥ä¸šåŠ¡æ„æˆ

### è‚¡ä¸œæ•°æ®
- åå¤§è‚¡ä¸œä¿¡æ¯
- è‚¡ä¸œäººæ•°ç»Ÿè®¡
- æœºæ„æŒä»“å˜åŒ–

### æŒ‡æ•°æ•°æ®
- æŒ‡æ•°åŸºæœ¬ä¿¡æ¯å’Œè¯¦æƒ…
- æŒ‡æ•°æƒé‡è‚¡å‰å
- æŒ‡æ•°æ”¶ç›Šè¡¨ç°ï¼ˆ7å¤©/30å¤©/90å¤©ï¼‰

### åŸºé‡‘æ•°æ®
- åŸºé‡‘è¯¦æƒ…å’ŒåŸºæœ¬ä¿¡æ¯
- åŸºé‡‘å¢é•¿å’Œå†å²å‡€å€¼
- åŸºé‡‘ä¸šç»©è¡¨ç°å’Œèµ„äº§é…ç½®
- åŸºé‡‘ç»ç†ä¿¡æ¯

### å…¶ä»–åŠŸèƒ½
- è‡ªé€‰è‚¡åˆ—è¡¨ç®¡ç†
- ç»„åˆå‡€å€¼å’Œäº¤æ˜“å†å²
- æ·±æ¸¯é€š/æ²ªæ¸¯é€šåŒ—å‘æ•°æ®
- å¯è½¬å€ºä¿¡æ¯
- è‚¡ç¥¨å…³é”®è¯æœç´¢

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Python 3.11 æˆ–æ›´é«˜ç‰ˆæœ¬
- [uv](https://github.com/astral-sh/uv) ï¼ˆæ¨èçš„åŒ…ç®¡ç†å™¨ï¼‰
- é›ªçƒè´¦å· Tokenï¼ˆè§[é…ç½®](#é…ç½®)éƒ¨åˆ†ï¼‰

### ä¸‰æ­¥å¯åŠ¨

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/bevisy/xueqiu_mcp.git
cd xueqiu_mcp

# 2. å®‰è£…ä¾èµ–
uv venv && uv pip install -e .

# 3. é…ç½® Token å¹¶å¯åŠ¨æœåŠ¡
echo 'XUEQIU_TOKEN="your_token_here"' > .env
uv run main.py
```

## ğŸ“¦ å®‰è£…

### ä½¿ç”¨ uvï¼ˆæ¨èï¼‰

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…
uv venv
uv pip install -e .
```

### ä½¿ç”¨ pip

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv
source .venv/bin/activate  # Linux/macOS
# æˆ– .venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -e .
```

## âš™ï¸ é…ç½®

### è·å–é›ªçƒ Token

é›ªçƒ Token æ˜¯è®¿é—®é›ªçƒ API çš„å¿…è¦å‡­è¯ã€‚è·å–æ­¥éª¤ï¼š

1. ç™»å½• [é›ªçƒç½‘](https://xueqiu.com/)
2. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
3. è¿›å…¥ Network æ ‡ç­¾ï¼Œæ‰¾åˆ°ä»»æ„è¯·æ±‚
4. å¤åˆ¶è¯·æ±‚å¤´ä¸­çš„ `Cookie` å€¼
5. æå– `xq_a_token` å’Œ `u` å‚æ•°

è¯¦ç»†æ•™ç¨‹è¯·å‚è€ƒ [pysnowball æ–‡æ¡£](https://github.com/uname-yang/pysnowball/blob/master/how_to_get_token.md)ã€‚

### é…ç½® Token

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# æ–¹å¼ä¸€ï¼šç›´æ¥åˆ›å»º
cat > .env << EOF
XUEQIU_TOKEN="xq_a_token=xxxxx;u=xxxx"
EOF

# æ–¹å¼äºŒï¼šä½¿ç”¨ echo
echo 'XUEQIU_TOKEN="xq_a_token=xxxxx;u=xxxx"' > .env
```

**å®‰å…¨æç¤º**ï¼šè¯·å‹¿å°† `.env` æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### é›†æˆåˆ° Claude Desktop

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·

```bash
claude mcp add-json xueqiu-mcp '{
  "args": [
    "--directory",
    "/absolute/path/to/xueqiu_mcp",
    "run",
    "main.py"
  ],
  "command": "uv"
}'
```

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨é…ç½®

ç¼–è¾‘ Claude Desktop é…ç½®æ–‡ä»¶ï¼ˆ`~/.claude/desktop_config.json` æˆ– `~/Library/Application Support/Claude/claude_desktop_config.json`ï¼‰ï¼š

```json
{
  "mcpServers": {
    "xueqiu-mcp": {
      "command": "uv",
      "args": [
        "--directory",
        "/absolute/path/to/xueqiu_mcp",
        "run",
        "main.py"
      ]
    }
  }
}
```

**æ³¨æ„**ï¼šè¯·å°†è·¯å¾„æ›¿æ¢ä¸ºå®é™…çš„é¡¹ç›®ç»å¯¹è·¯å¾„ã€‚

### ä½¿ç”¨ç¤ºä¾‹

é…ç½®å®Œæˆåï¼Œé‡å¯ Claude Desktopï¼Œå³å¯åœ¨å¯¹è¯ä¸­ä½¿ç”¨ï¼š

```
ç”¨æˆ·ï¼šå¸®æˆ‘æŸ¥è¯¢ä¸‡ç§‘Açš„å®æ—¶è¡Œæƒ…
Claudeï¼š[è°ƒç”¨ quote_detail å·¥å…·è·å–æ•°æ®]

ç”¨æˆ·ï¼šåˆ†æè´µå·èŒ…å°æœ€è¿‘30å¤©çš„Kçº¿æ•°æ®
Claudeï¼š[è°ƒç”¨ kline å·¥å…·å¹¶åˆ†æ]
```

## ğŸ› ï¸ å¯ç”¨å·¥å…·

### è‚¡ç¥¨è¡Œæƒ…

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | ä¸»è¦å‚æ•° |
|---------|---------|---------|
| `quotec` | è·å–è‚¡ç¥¨åŸºæœ¬è¡Œæƒ… | `stock_code` |
| `quote_detail` | è·å–è¯¦ç»†è¡Œæƒ…æ•°æ® | `stock_code` |
| `pankou` | è·å–å®æ—¶åˆ†ç¬”æ•°æ® | `stock_code` |
| `kline` | è·å– K çº¿æ•°æ® | `stock_code`, `days` |

### è´¢åŠ¡æ•°æ®

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | ä¸»è¦å‚æ•° |
|---------|---------|---------|
| `indicator` | ä¸šç»©æŠ¥è¡¨æ•°æ® | `stock_code`, `is_annals`, `count` |
| `income` | åˆ©æ¶¦è¡¨æ•°æ® | `stock_code`, `is_annals`, `count` |
| `balance` | èµ„äº§è´Ÿå€ºè¡¨æ•°æ® | `stock_code`, `is_annals`, `count` |
| `cash_flow` | ç°é‡‘æµé‡è¡¨æ•°æ® | `stock_code`, `is_annals`, `count` |

### è‚¡ä¸œä¿¡æ¯

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | ä¸»è¦å‚æ•° |
|---------|---------|---------|
| `top_holders` | åå¤§è‚¡ä¸œæ•°æ® | `stock_code`, `circula` |
| `holders` | è‚¡ä¸œäººæ•°æ•°æ® | `stock_code` |
| `org_holding_change` | æœºæ„æŒä»“å˜åŒ– | `stock_code` |

### æŒ‡æ•°æ•°æ®

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | ä¸»è¦å‚æ•° |
|---------|---------|---------|
| `index_basic_info` | æŒ‡æ•°åŸºæœ¬ä¿¡æ¯ | `index_code` |
| `index_details_data` | æŒ‡æ•°è¯¦ç»†ä¿¡æ¯ | `index_code` |
| `index_weight_top10` | æŒ‡æ•°æƒé‡è‚¡å‰å | `index_code` |
| `index_perf_7/30/90` | æŒ‡æ•°æ”¶ç›Šè¡¨ç° | `index_code` |

### åŸºé‡‘æ•°æ®

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | ä¸»è¦å‚æ•° |
|---------|---------|---------|
| `fund_detail` | åŸºé‡‘è¯¦ç»†ä¿¡æ¯ | `fund_code` |
| `fund_info` | åŸºé‡‘åŸºæœ¬ä¿¡æ¯ | `fund_code` |
| `fund_nav_history` | åŸºé‡‘å†å²å‡€å€¼ | `fund_code` |
| `fund_manager` | åŸºé‡‘ç»ç†ä¿¡æ¯ | `fund_code` |

### å…¶ä»–å·¥å…·

- `suggest_stock`ï¼šå…³é”®è¯æœç´¢è‚¡ç¥¨
- `watch_list`ï¼šè·å–è‡ªé€‰è‚¡åˆ—è¡¨
- `capital_flow`ï¼šèµ„é‡‘æµå‘æ•°æ®
- `northbound_shareholding_sh/sz`ï¼šæ·±æ¸¯é€š/æ²ªæ¸¯é€šæ•°æ®
- `convertible_bond`ï¼šå¯è½¬å€ºä¿¡æ¯

å®Œæ•´å·¥å…·åˆ—è¡¨è¯·å‚è€ƒ `main.py` æºç æˆ–é€šè¿‡ Claude Desktop æŸ¥çœ‹å·¥å…·é¢æ¿ã€‚

## ğŸ“¸ ä½¿ç”¨ç¤ºä¾‹

### åœ¨ Cursor ä¸­ä½¿ç”¨

![Cursor MCP ç¤ºä¾‹](./images/cursor_mcp.png)

### åœ¨ Claude Desktop ä¸­ä½¿ç”¨

![Claude MCP ç¤ºä¾‹](./images/claude_mcp.png)

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•è·å–è‚¡ç¥¨ä»£ç ï¼Ÿ

A: å¯ä»¥ä½¿ç”¨ `suggest_stock` å·¥å…·æœç´¢ï¼š
- æ·±åœ³è‚¡ç¥¨ï¼š`SZ` å‰ç¼€ï¼ˆå¦‚ `SZ000002`ï¼‰
- ä¸Šæµ·è‚¡ç¥¨ï¼š`SH` å‰ç¼€ï¼ˆå¦‚ `SH600000`ï¼‰

### Q: Token å¤±æ•ˆæ€ä¹ˆåŠï¼Ÿ

A: Token æœ‰æ•ˆæœŸæœ‰é™ï¼Œå¤±æ•ˆåéœ€é‡æ–°è·å–ã€‚å»ºè®®å®šæœŸæ›´æ–° Tokenã€‚

### Q: æ”¯æŒå“ªäº›æ•°æ®é¢‘ç‡ï¼Ÿ

A: å–å†³äºé›ªçƒ API çš„é™åˆ¶ï¼Œå®æ—¶æ•°æ®åŸºäºé›ªçƒçš„æ›´æ–°é¢‘ç‡ã€‚

### Q: èƒ½å¦è·å–å†å²æ•°æ®ï¼Ÿ

A: æ”¯æŒ K çº¿ã€èµ„é‡‘æµå‘ã€åŸºé‡‘å‡€å€¼ç­‰å†å²æ•°æ®ï¼Œå…·ä½“å¯è°ƒç”¨å¤©æ•°è¯·å‚è€ƒå„å·¥å…·å‚æ•°ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](./LICENSE) å¼€æºåè®®ã€‚

## ğŸ™ è‡´è°¢

- [pysnowball](https://github.com/uname-yang/pysnowball) - é›ªçƒè‚¡ç¥¨æ•°æ®æ¥å£çš„ Python å°è£…
- [fastmcp](https://github.com/jlowin/fastmcp) - MCP æœåŠ¡æ¡†æ¶
- [Model Context Protocol](https://modelcontextprotocol.io/) - AI ä¸å·¥å…·äº¤äº’çš„æ ‡å‡†åè®®

## ğŸ“® è”ç³»æ–¹å¼

- Issues: [GitHub Issues](https://github.com/bevisy/xueqiu_mcp/issues)
- Discussions: [GitHub Discussions](https://github.com/bevisy/xueqiu_mcp/discussions)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª â­ï¸ Starï¼**

Made with â¤ï¸ by [bevisy](https://github.com/bevisy)

</div>